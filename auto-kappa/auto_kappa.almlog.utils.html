

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>auto_kappa.almlog.utils module &mdash; auto-kappa 1.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=5938bb5a" />

  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=fc837d61"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="auto_kappa.almlog.variables module" href="auto_kappa.almlog.variables.html" />
    <link rel="prev" title="auto_kappa.almlog.system module" href="auto_kappa.almlog.system.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            auto-kappa
              <img src="../_static/ak_logo.png" class="logo" alt="Logo"/>
          </a>

          <div class="project-version">
            ver. 1.1.0
          </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">1. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">2. How to use auto-kappa</a></li>
<li class="toctree-l1"><a class="reference internal" href="../params_ak.html">3. Parameters for auto-kappa</a></li>
<li class="toctree-l1"><a class="reference internal" href="../params_vasp.html">4. Parameters for VASP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">5. Tutorial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">6. auto_kappa</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="auto_kappa.html">6.1. auto_kappa package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="auto_kappa.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="auto_kappa.alamode.html">auto_kappa.alamode package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="auto_kappa.almlog.html">auto_kappa.almlog package</a></li>
<li class="toctree-l4"><a class="reference internal" href="auto_kappa.calculators.html">auto_kappa.calculators package</a></li>
<li class="toctree-l4"><a class="reference internal" href="auto_kappa.cui.html">auto_kappa.cui package</a></li>
<li class="toctree-l4"><a class="reference internal" href="auto_kappa.io.html">auto_kappa.io package</a></li>
<li class="toctree-l4"><a class="reference internal" href="auto_kappa.plot.html">auto_kappa.plot package</a></li>
<li class="toctree-l4"><a class="reference internal" href="auto_kappa.structure.html">auto_kappa.structure package</a></li>
<li class="toctree-l4"><a class="reference internal" href="auto_kappa.utils.html">auto_kappa.utils package</a></li>
<li class="toctree-l4"><a class="reference internal" href="auto_kappa.vasp.html">auto_kappa.vasp package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="auto_kappa.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="auto_kappa.html#module-auto_kappa">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">auto-kappa</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html"><span class="section-number">6. </span>auto_kappa</a></li>
          <li class="breadcrumb-item"><a href="auto_kappa.html"><span class="section-number">6.1. </span>auto_kappa package</a></li>
          <li class="breadcrumb-item"><a href="auto_kappa.almlog.html">auto_kappa.almlog package</a></li>
      <li class="breadcrumb-item active">auto_kappa.almlog.utils module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/auto-kappa/auto_kappa.almlog.utils.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-auto_kappa.almlog.utils">
<span id="auto-kappa-almlog-utils-module"></span><h1>auto_kappa.almlog.utils module<a class="headerlink" href="#module-auto_kappa.almlog.utils" title="Link to this heading"></a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="auto_kappa.almlog.utils.extract_afterward_lines">
<span class="sig-prename descclassname"><span class="pre">auto_kappa.almlog.utils.</span></span><span class="sig-name descname"><span class="pre">extract_afterward_lines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_lines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#auto_kappa.almlog.utils.extract_afterward_lines" title="Link to this definition"></a></dt>
<dd><p>Extract lines after a specific title line for a given number of lines.</p>
<p class="rubric">Example</p>
<p>Mass of atomic species (u):
S:   32.065000
Ba:  137.327000</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lines</strong> (<em>list</em>) – list of lines in the log file</p></li>
<li><p><strong>title</strong> (<em>str</em>) – title line to search</p></li>
<li><p><strong>num_lines</strong> (<em>int</em>) – number of lines to read after the title line</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of extracted lines</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="auto_kappa.almlog.utils.extract_lines_with_index">
<span class="sig-prename descclassname"><span class="pre">auto_kappa.almlog.utils.</span></span><span class="sig-name descname"><span class="pre">extract_lines_with_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace_symbols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#auto_kappa.almlog.utils.extract_lines_with_index" title="Link to this definition"></a></dt>
<dd><p>Extract lines after a specific title line that start with an integer index (1, 2, 3, …)
The extraction stops when a line does not start with a sequential integer index.
Symbols such as ‘=’, ‘:’, etc. are replaced with blanks if replace_symbols is True.</p>
<p>Example:</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lines</strong> (<em>list</em>) – list of lines in the log file</p></li>
<li><p><strong>title</strong> (<em>str</em>) – title line to search</p></li>
<li><p><strong>initial_index</strong> (<em>int</em>) – initial index for the ordered list (default: 1)</p></li>
<li><p><strong>replace_symbols</strong> (<em>bool</em>) – if True, replace symbols with blanks</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="auto_kappa.almlog.utils.get_position_list">
<span class="sig-prename descclassname"><span class="pre">auto_kappa.almlog.utils.</span></span><span class="sig-name descname"><span class="pre">get_position_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace_symbols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#auto_kappa.almlog.utils.get_position_list" title="Link to this definition"></a></dt>
<dd><p>Parse ordered list (e.g. atomic positions) after a specific title line
Each line must start with an integer index (1, 2, 3, …).
If the index is not sequential, the parsing stops.
Currently, each line must contain five or more columns: index, x, y, z, (…,) tag
Symbols such as ‘=’, ‘:’, etc. are replaced with blanks if replace_symbols is True.</p>
<p class="rubric">Example</p>
<p>Atomic positions in fractional basis and atomic species
1   3.403998e-01   4.096002e-01   1.208532e-01    1
2   8.403998e-01   4.096002e-01   1.208532e-01    1
3   3.403998e-01   9.096002e-01   1.208532e-01    1
4   8.403998e-01   9.096002e-01   1.208532e-01    1
5   3.403998e-01   4.096002e-01   3.708532e-01    1
…</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lines</strong> (<em>list</em>) – list of lines in the log file</p></li>
<li><p><strong>title</strong> (<em>str</em>) – title line to search</p></li>
<li><p><strong>initial_index</strong> (<em>int</em>) – initial index for the ordered list (default: 1)</p></li>
<li><p><strong>replace_symbols</strong> (<em>bool</em>) – if True, replace symbols with blanks</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of parsed values</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="auto_kappa.almlog.utils.parse_data_line">
<span class="sig-prename descclassname"><span class="pre">auto_kappa.almlog.utils.</span></span><span class="sig-name descname"><span class="pre">parse_data_line</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">line</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx_dist=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype=&lt;class</span> <span class="pre">'float'&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#auto_kappa.almlog.utils.parse_data_line" title="Link to this definition"></a></dt>
<dd><p>Extract data from a line of log file</p>
<dl class="simple">
<dt>Algorithms:</dt><dd><ol class="arabic simple">
<li><p>Split the line into words</p></li>
<li><p>Search for the keyword in the words</p></li>
<li><p>If found, get the value at the specified index distance from the keyword</p></li>
<li><p>If last is True, get the last value in the line</p></li>
</ol>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>line</strong> (<em>str</em>) – a line of log file</p></li>
<li><p><strong>key</strong> (<em>str</em>) – keyword to search</p></li>
<li><p><strong>idx_dist</strong> (<em>int</em>) – index distance from the keyword to the target value</p></li>
<li><p><strong>last</strong> (<em>bool</em>) – if True, get the last value in the line</p></li>
<li><p><strong>dtype</strong> (<em>type</em>) – data type of the target value (default: float)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="auto_kappa.almlog.utils.read_section">
<span class="sig-prename descclassname"><span class="pre">auto_kappa.almlog.utils.</span></span><span class="sig-name descname"><span class="pre">read_section</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_lines1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_lines2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#auto_kappa.almlog.utils.read_section" title="Link to this definition"></a></dt>
<dd><p>Read section information from log file lines (e.g. Symmetry section)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lines</strong> (<em>list</em>) – list of lines in the log file</p></li>
<li><p><strong>search_lines1</strong> (<em>dict</em>) – additional search patterns for type 1 (direct string search)</p></li>
<li><p><strong>search_lines2</strong> (<em>dict</em>) – additional search patterns for type 2 (regex)
The value must be a tuple of (pattern, dtype) where pattern is a regex pattern
and dtype is a type or a tuple of types for multiple values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>dictionary containing section information</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>info (dict)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="auto_kappa.almlog.utils.replace_symbols_to_blank">
<span class="sig-prename descclassname"><span class="pre">auto_kappa.almlog.utils.</span></span><span class="sig-name descname"><span class="pre">replace_symbols_to_blank</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">line</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symbols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['=',</span> <span class="pre">',',</span> <span class="pre">':',</span> <span class="pre">';',</span> <span class="pre">'(',</span> <span class="pre">')',</span> <span class="pre">'[',</span> <span class="pre">']']</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#auto_kappa.almlog.utils.replace_symbols_to_blank" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="auto_kappa.almlog.system.html" class="btn btn-neutral float-left" title="auto_kappa.almlog.system module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="auto_kappa.almlog.variables.html" class="btn btn-neutral float-right" title="auto_kappa.almlog.variables module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Masato Ohnishi.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>